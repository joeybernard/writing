Designing with Linux

3D printing is becoming a growing tool, dropping in price and being made available to almost everyone. It can be used to build parts that you can not only use around the house, but more and more, they are being used create instruments for scientific work. While there is a growing library of objects available in several online databases, there are a nearly infinite number of possible objects that you might want to build. This means that you will likely want to design and build your own creations. This month, we will look at freecad, an open source parametric 3D modeller. A parametric modeller builds the structures in the design based on a set of properties. So changing the design is simply a matter of changing the properties of said design. Freecad can read and write several different file formats used in modelling and 3D printing. It is built as a core application, with plugin modules built to handle specific jobs. Python is the language of choice, since there is actually a built-in Python engine. As well, freecad itself can be imported into your own Python script. This gives you access to all of the geometric tools for use in your own code.

Freecad should already be in your distribution's package management system. In Debian based ones, it is simply a matter of using the command
   sudo apt-get install freecad
In the latest version of Ubuntu, you actually have the latest version of freecad available. But, you always have the option of building freecad from source, if you need some non-standard option. To start it, you can just run 'freecad'. It will pop open a window with a blank workspace in it. [freecad1.png] Freecad uses a workbench concept to give you groups of tools, based on the task you are doing at any particular time. You can access the available workbenches by clicking on the menu item 'View->Workbench'. Here, you will get a drop down of all of the available options. Since we are starting with the idea of building a 3D object, we should start by activating the parts workbench. Clicking on the menu item 'View->Workbench->Part' will rebuild the interface and introduce all sorts of new tools for you to use. [freecad2.png] On the left-hand side, you should see two sub-windows providing a tree view of the objects in your design and a property view of specific objects. Along the bottom are a report view and a Python window. The majority of the display is currently a blank slate. You need to start a new design by clicking on the menu item 'File->New'. This will open a new, unnamed, document in the main part of the GUI. It will be renamed when you first save the project. You can do this by clicking the menu item 'File->Save'. You can add primitive objects to this new document by either clicking on the associated icon in the top toolbar, or by clicking on the menu item 'Part->Primitives'. Once you have an object in the document, you can click on it to see its properties in the left-hand side. There are two tabs in the property view pane. The initial tab is the 'View" tab, which presents details on the presentation of your object. The second tab is the 'Data' tab, which contains the details for the construction of your object. In the accompanying figure, you can see a torus that I have started to construct. A torus is described by three angles and two radii. The first two angles describe how much of the torus exists in the cylindrical direction. The third angle describes how much of the torus exists around the circle. The first radius gives the overall radius of the torus, while the second radius represents the cylindrical radius. [freecad3.png]

There are lots of other tools available as well. You can select a different workbench by either clicking on the menu item 'View->Workbench', or you can select a new workbench from the drop down in the center of the top toolbar. To look at another example problem, say we wanted to generate a mesh from our design to feed into some other program, like a computational fluid dynamics program. To start with, you will need to select the mesh workbench. This will bring in a new set of tools to work with meshes. You can generate a mesh from your design by clicking the menu item 'Meshes->Create mesh from shape...'. This will pop open a new pane in the left hand side to control the meshing process. You can choose either standard or mefisto meshing, along with the maximum edge length. Once these are set, you can select the shape you want to mesh and click on OK. This will generate the mesh and leave you with a mesh information box describing the number of points, facets, etc. [freecad5.png] There are tools available to work on these meshes, too. For example, you can click on the menu item 'Meshes->Analyze->Evaluate & Repair mesh...'. This will pop up a new pane on the right hand side where you can analyze your new mesh and find problems like duplicated faces, duplicated points or degenerated faces. If any of these issues are found, then there is a repair button available to go ahead and fix these issues. This is something that is more likely to happen with very complex object, created from several primitives stitched together. Once you have your mesh generated, and properly tweaked and optimized, you can click on the menu item 'Meshes->Export mesh...' and select the file format you need. For example, if you wanted to use it in some project in CFX, you could export it as a NASTRAN file. You have several options that should be supported by most other programs that can take mesh files as input. So freecad can act as a very good pre-processing step in many projects.

Once you have your object finished, you will want to have it in some format that can be used in some other context. To do this, you can export your design in one of any number of available formats. For example, if you want to send this design to a 3D printer, you can export it in an STL file format. To do this, click on the menu item 'File->Export' and select the stl option from the drop down. [freecad4.png] You can then take this file and use it in the printing software for your 3D printer.

Now that you can build your own objects, you can design the exact piece you need for that scientific experiment, or that exact replacement part you needed. If you can, you should also consider sharing your work in one or more of the online libraries. That way, you may become famous for your miracle widget, or that amazing do-hickey. In any case, it is always good to share information so that others can build on it to do even greater things.



IMAGES
freecad1.png  -  On start up, freecad gives you a blank workspace to begin working on.
freecad2.png  -  Selecting the part workbench will change the interface, giving you access to all sorts of new tools for building with.
freecad3.png  -  You can build your design based on primitive objects.
freecad4.png  -  You can export your design to an stl file format.
freecad5.png  -  You can even do work on meshes with freecad.



URLS
http://www.freecadweb.org  -  The main freecad website.

