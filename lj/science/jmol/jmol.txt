Jmol - Viewing Molecules with Java


This month, we will dig back into chemistry software to see what kind of work you can put your Linux machine to. Specifically, we will look at Jmol, a Java application that is available as both a desktop application and a web-based applet. Jmol is a tool that can be used to help analyze the results that you get from other software packages that actually calculate the chemical effects that you are researching. It can read in dozens of different file formats. It can be used to visualize everything from small molecules to huge macromolecules, like proteins. You can also visualize crystals and orbitals. You can even visualize animated events, such as chemical reactions and molecular vibrations. Most Linux distributions should have Jmol available within their package management repositories. For example, you can install it on Debian-based distributions with the command
   sudo apt-get install jmol
If you want to use the latest and greatest version, you can download it from the main project website. The download comes as a simple zip file containing everything that you need to run Jmol. You will also need a Java virtual machine installed in order to actually run Jmol. If you installed Jmol from the package manager, you will probably have a script available that will make running Jmol easier. If you install it from the binary zip file, then you will need to run it manually by calling Java and using the JAR file as a command line option.

When you first start Jmol up, you end up with a blank screen, ready for your input. [jmol1.png] Across the top is a series of icons allowing for easy access to the key functions available within Jmol. If you already have data files to analyze, you can use them. Otherwise, you may need some sample files in order to play with the functionality available. The binary distribution doesn't include any sample files to save on download bandwidth. There are several sample data files available from the main website, however. You can get the entire set by downloading a snapshot of the source files. In the examples through the rest of this article, we will be using several of the sample data files available from the source snapshot download. The simplest example is to just load a data file and see what it looks like. Below, you can see what you get when you load the sample file 'Jmol-datafiles/gaussian/phenylnitrine.g94.out'. [jmol2.png] The display of the data is an interactive one. Using your mouse, you can click and drag the molecule to rotate it around to see all of the details. The 'Display' menu item provides a number of options to play with the molecule. The 'Atom' menu item allows you to change how much of the van der Waals force field to show. The 'Bond' menu item shows how thick to make the bonds between atoms. With these two options, you can tailor the display so that the appropriate amount of detail is shown. The 'Label' menu item allows you to add either symbols, names or atomic numbers to the atoms within the molecule. Near the bottom of the 'Display' menu, there is a checkbox for whether or not hydrogen atoms are displayed within the display of the molecule. While we are talking about how to affect the display of the molecule, the 'View' menu item provides a number of presets on how to line up the molecule. So, with a single click, you can view the molecule along any of its axes. Jmol can also display animations of events, along with static images. The subdirectory 'animations' contains several examples that you can play with. When you load it up, you start with a static image of the molecule as before. [jmol3.png] Within the icon bar at the top of the window there are a series of buttons at the far right hand side that allows you to step through the frames of the animation frame by frame. If you want to see the full animation, there a set of options under the menu item 'Tools->Animate...'. Here, you can go through the animation once, or you can put it on a loop. You can even use a mode, called 'Palindrome', that goes forward through the animation and then backwards. That way, you only need to calculate one half of the motion yet still be able to visualize the entire range of the motion.

There are yet more analysis tools available. Clicking on the menu item 'Tools->Spectra->JSpecView' will pop up a new window. [jmol4.png] Under the menu item 'File', you will find options to add extra files, or do H1 or C13 simulations. You can select 'Tools->Measurements...' to be able to measure the distance between atoms within your molecule. The units used for these measurements can be set with the menu item 'Tools->Distance Units'. You can actually edit the molecule after it is loaded, too. If you click on the icon button with the hover over description 'Open the model kit', you will get a small set of dropdown items in the top left side of the display window. [jmol6.png] It allows you to delete atoms, move bonds around, or even change the atom species at specific locations. If you have some type of analysis that you need to repeat several times, Jmol supports the addition of macros. Macros are just simple text files that contain a set of Jmol instructions. If you save them in the directory '~/.jmol/macros', Jmol will pick them up and provide them within the 'Macros' menu item. The language for the macros is the same used for the scripting capabilities of Jmol. This scripting language is based off of RasMol, with some minor changes. There is a full language reference available online. You can even use scripts interactively by clicking on the menu item 'File->Script Editor...'. [jmol7.png] This pops up a new window where you can write your script, check its syntax, and then run it within Jmol. This is where you have a huge amount of power to get the exact type of analysis that you are looking for.

Once you've done your analysis, there are several output options available. Under the menu item 'File->Export' gives you 4 options. You can select 'Export Image...' to save a static image in one of several image file formats. Because Jmol also operates as a Java applet, you can select 'Export to Web Page...' to have a web page generated that you can then use within your own web site to share your research results. If you want a higher resolution image of your molecule, you can select 'Render in POV-Ray...' to use the external program POV-Ray to render a high quality 3D image. The last export option is 'Write State...', which saves of the current workspace so that you can reload it later and continue your analysis. There is also an extra output option under the menu item 'Tools->Gaussian...' that pops up an extra window. [jmol5.png] Here you can set several options for a Gaussian input file that you can then use to run further simulations of your molecule. With these tools, you can easily share your research results with others and build on the work you are handling.



URLS
http://jmol.sourceforge.net/   -   Main homepage
http://chemapps.stolaf.edu/jmol/docs/   -   Jmol scripting language reference


IMAGES
jmol1.png   -   When you first start Jmol up, you get a blank workspace ready for your work.
jmol2.png   -   The basic display you get when you load a molecule is a ball and stick display.
jmol3.png   -   When you load an animation, it starts with a static image of your molecule.
jmol4.png   -   JSpecView is an extra tool available to look at the spectra of molecules.
jmol5.png   -   You can use Jmol to generate Gaussian input files based on your analysis.
jmol6.png   -   Jmol also lets you edit the molecule that you are working on.
jmol7.png   -   Jmol provides a full scripting language to help automate your analysis steps.
