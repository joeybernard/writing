Mapping Your GIS Data


We've already looked at other GIS applications available on Linux. Programs like GRASS and qgis provide a full set of tools to do GIS. Sometimes, this is really overkill. You may just want to display the data geographically and create a map. In these cases, there is thuban, an interactive geographic data viewer. Most distributions should have a package available within their package management systems. If not, you can always download the sources and build it from scratch. It does depend on Python, among several other libraries, so you will need to do a bit of a dependency dance. There is even binary downloads available for Windows and Mac OSX that you can point your non-Linux friends to.

If you don't already have data of your own, there are sources of public domain GIS data available online. In the links below, you will find a few sites to get you started. The files available on these sites will get you started with SHP files that contain at least basic features for most of the world. Thuban is not as flexible as a full-fledged GIS software and can not handle very many data file formats. The ones that you can use are SHP files, DBF database files and various image file formats. In the screen-shots for this article, I simply grabbed several of the data files available online.

When you start thuban up, you end up with a completely blank slate. [thuban1.png] The first step is to start a new session, which you can do by selecting the menu item "File->New Session". Not much will change on the screen. In order to start build up your map, you are going to need to add layers that can be manipulated. I'll start by selecting the menu item "Map->Add Layer..." and adding in a SHP file to give me the basic geographic attributes for my home province of New Brunswick. [thuban2.png] This includes several different geographical items, such as water, river banks and parks. The default display is not that interesting yet. [thuban3.png] You can edit the way a layer is displayed by either double-clicking the layer within the list in the legend pane, or right-clicking the layer of interest and selecting "Properties...". This will pop up a new window. [thuban4.png] In this case I'll select the "type" field within the classification pane. The easiest choice at this point is to click the "Generate Class" button. The "Generate Classification" window will pop up, where you can click on the "Retrieve From Table" button to get a list of the possible values. We'll accept the default grey scale mapping for the colors, giving 4 new entries in the layer properties. But this is not very interesting either, yet. Selecting each of the new properties, we can edit the symbol and change the colors for each of the types. [thuban5.png] If you want to have a preview of what this will look like, you can click on the "Try" button. If it doesn't quite look right, you can always click the "Revert" button to undo these changes and try something else.

While every map begins with a single layer, it is very rare that a single layer is enough to show all of the details you may want to have displayed. In this example, we don't have any roads on our map. There is a separate SHP file available that has this information, however. So, we will click on the menu item "Map->Add Layer..." and add the file "roads.shp". Opening up the properties dialog shows that this particular SHP file has several different attributes that we can play with. For now, we will select 4 different road types and highlight them with 4 different colors. There is still a default color for any road types other than the 4 we selected. To make them go away on the map, we can select the default property and simply make it transparent. Then, only the 4 selected road types will show up. Now our map is starting to look a bit more interesting. Now, we need to start worrying about what order the layers are in. Thuban will draw layers in the order that they appear in the legend list, starting at the bottom and working its way up. You can move a particular layer up our down by selecting it and then using the buttons at the top of the legend pane. Another type of layer you can use is an image layer. Obviously, the image needs to be geo-referenced in some way. Thuban supports the geoTIFF file format. If you place your image at the bottom of the layer list, you can then draw on top of it with the data in the SHP files. 

To manipulate the map itself, thuban uses a sort of mode system. To zoom in, you need to select the zoom button. Then, you can either use click and drag to select a region to zoom in on, or simply click a spot on the map to re-centre and zoom in. Once you have zoomed in, you can use the pan tool to move the view window around the map to highlight different regions. There are buttons to zoom you to specific scales such that the entire map is visible. This always gets you back to the default map view. There are two tools to allow you to work with individual elements from a SHP file. The first is an information tool that pops up a detail window for any element that you select. The second is a label tool. When you select an element, a dialog window pops up allowing you to select one of the properties to be displayed as a label.

Once we have a map that we are happy with, we will probably want to save it off for later use. Since thuban work with sessions, all of our work in generating the map will be saved as a session within thuban, as long as we remembered to save is off by clicking the menu item "File->Save Session". But this doesn't help much if we want to use our map outside of thuban. There is an option to export a map as an SVG file by using the menu item "Extensions->Write SVG Map". This is not the most efficient output available, however. My simple example from above blew up to over 50MB for a single map with 2 layers. The other option is to print your map out. While you can print to actual paper, for a hard-copy, you can also print to a file using the generic Postscript printer. This will generate a Postscript file that will be a bit more manageable. You can also convert this Postscript file to other formats with relative ease. So, to get a PDF of your map, you can print to a Postscript file and then convert it to PDF with the utility ps2pdf. Now you have a map that you can share with friends and family.


Images
thuban1.png  -  Starting thuban up gives you a blank slate.
thuban2.png  -  Adding a new layer opens a file selection dialog where you can pick a SHP file
thuban3.png  -  By default, thuban just displays all of the data with a single symbol color
thuban4.png  -  Each layer has a properties window where you can control how the data gets displayed
thuban5.png  -  Using the "Generate Class" button is a shortcut to get you started



Links
http://thuban.intevation.org/
http://www.naturalearthdata.com/features/
http://wiki.openstreetmap.org/wiki/Shapefiles
